$(document).ready(function(){var n,i,e,o;n=$(".options"),i=$(".show-notifs"),e=$(".clear-notifs"),o=$(".open-messages"),handle(n,"click.initLinks",function(){chrome.runtime.openOptionsPage()}),handle(i,"click.initLinks",function(){chrome.runtime.sendMessage({action:"showAllNotifications"})}),handle(e,"click.initLinks",function(){chrome.runtime.sendMessage({action:"confirm",msg:"Are you sure you want to clear all notifications?"},function(n){n&&modapi.login(function(){$.post(global.path.feed+"/clear_notifications",{_method:"delete",authenticity_token:global.token})})})}),handle(o,"click.initLinks",function(){chrome.windows.create({url:"messages.html",width:400,height:550,type:"popup"},function(){})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3BvcHVwLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiJG9wdGlvbnMiLCIkc2hvd05vdGlmcyIsIiRjbGVhck5vdGlmcyIsIiRvcGVuTWVzc2FnZXMiLCJoYW5kbGUiLCJjaHJvbWUiLCJydW50aW1lIiwib3Blbk9wdGlvbnNQYWdlIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJtc2ciLCJyZXN1bHQiLCJtb2RhcGkiLCJsb2dpbiIsInBvc3QiLCJnbG9iYWwiLCJwYXRoIiwiZmVlZCIsIl9tZXRob2QiLCJhdXRoZW50aWNpdHlfdG9rZW4iLCJ0b2tlbiIsIndpbmRvd3MiLCJjcmVhdGUiLCJ1cmwiLCJ3aWR0aCIsImhlaWdodCIsInR5cGUiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBR2pCLElBQ0tDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBSEFILEVBQVdILEVBQUUsWUFDYkksRUFBY0osRUFBRSxnQkFDaEJLLEVBQWVMLEVBQUUsaUJBQ2pCTSxFQUFnQk4sRUFBRSxrQkFHdEJPLE9BQU9KLEVBQVUsa0JBQW1CLFdBQ25DSyxPQUFPQyxRQUFRQyxvQkFJaEJILE9BQU9ILEVBQWEsa0JBQW1CLFdBQ3RDSSxPQUFPQyxRQUFRRSxZQUFZLENBQUNDLE9BQVEsMkJBSXJDTCxPQUFPRixFQUFjLGtCQUFtQixXQUN2Q0csT0FBT0MsUUFBUUUsWUFBWSxDQUFDQyxPQUFRLFVBQVdDLElBQUsscURBQXNELFNBQVNDLEdBQzlHQSxHQUNIQyxPQUFPQyxNQUFNLFdBQ1poQixFQUFFaUIsS0FBS0MsT0FBT0MsS0FBS0MsS0FBTyx1QkFBd0IsQ0FBQ0MsUUFBUyxTQUFVQyxtQkFBb0JKLE9BQU9LLGNBT3JHaEIsT0FBT0QsRUFBZSxrQkFBbUIsV0FReENFLE9BQU9nQixRQUFRQyxPQVBLLENBQ25CQyxJQUFLLGdCQUNMQyxNQUFPLElBQ1BDLE9BQVEsSUFDUkMsS0FBTSxTQUc4QiIsImZpbGUiOiJuZXdwb3B1cC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHRpbml0TGlua3MoKTtcclxuXHJcblx0ZnVuY3Rpb24gaW5pdExpbmtzKCkge1xyXG5cdFx0dmFyICRvcHRpb25zID0gJChcIi5vcHRpb25zXCIpO1xyXG5cdFx0dmFyICRzaG93Tm90aWZzID0gJChcIi5zaG93LW5vdGlmc1wiKTtcclxuXHRcdHZhciAkY2xlYXJOb3RpZnMgPSAkKFwiLmNsZWFyLW5vdGlmc1wiKTtcclxuXHRcdHZhciAkb3Blbk1lc3NhZ2VzID0gJChcIi5vcGVuLW1lc3NhZ2VzXCIpO1xyXG5cdFx0XHJcblx0XHQvLyBPcHRpb25zIGhhbmRsZXJcclxuXHRcdGhhbmRsZSgkb3B0aW9ucywgXCJjbGljay5pbml0TGlua3NcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNocm9tZS5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSgpO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vIFNob3cgbm90aWZpY2F0aW9ucyBoYW5kbGVyXHJcblx0XHRoYW5kbGUoJHNob3dOb3RpZnMsIFwiY2xpY2suaW5pdExpbmtzXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiBcInNob3dBbGxOb3RpZmljYXRpb25zXCJ9KTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBDbGVhciBub3RpZmljYXRpb25zIGhhbmRsZXJcclxuXHRcdGhhbmRsZSgkY2xlYXJOb3RpZnMsIFwiY2xpY2suaW5pdExpbmtzXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiBcImNvbmZpcm1cIiwgbXNnOiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbGVhciBhbGwgbm90aWZpY2F0aW9ucz9cIn0sIGZ1bmN0aW9uKHJlc3VsdCkge1xyXG5cdFx0XHRcdGlmIChyZXN1bHQpIHtcclxuXHRcdFx0XHRcdG1vZGFwaS5sb2dpbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JC5wb3N0KGdsb2JhbC5wYXRoLmZlZWQgKyBcIi9jbGVhcl9ub3RpZmljYXRpb25zXCIsIHtfbWV0aG9kOiBcImRlbGV0ZVwiLCBhdXRoZW50aWNpdHlfdG9rZW46IGdsb2JhbC50b2tlbn0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBPcGVuIG1lc3NhZ2VzIGhhbmRsZXJcclxuXHRcdGhhbmRsZSgkb3Blbk1lc3NhZ2VzLCBcImNsaWNrLmluaXRMaW5rc1wiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHdpbmRvd09wdGlvbnMgPSB7XHJcblx0XHRcdFx0dXJsOiBcIm1lc3NhZ2VzLmh0bWxcIixcclxuXHRcdFx0XHR3aWR0aDogNDAwLFxyXG5cdFx0XHRcdGhlaWdodDogNTUwLFxyXG5cdFx0XHRcdHR5cGU6IFwicG9wdXBcIlxyXG5cdFx0XHR9O1xyXG5cdFx0XHRcclxuXHRcdFx0Y2hyb21lLndpbmRvd3MuY3JlYXRlKHdpbmRvd09wdGlvbnMsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufSk7XHJcblxyXG4vL0dldCBhIGZhY3RvcnkgaXRlbVxyXG4vKmZ1bmN0aW9uIF9mYWN0b3J5KGtleSkge1xyXG5cdHJldHVybiAkKFwiLmZhY3RvcnkgLlwiICsga2V5KS5jbG9uZSgpO1xyXG59Ki9cclxuXHJcbi8vSW5pdGlhbGl6ZSB0YWJzXHJcbi8qZnVuY3Rpb24gaW5pdFRhYnMoKSB7XHJcblx0JChcIm5hdiBhXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKFwibmF2XCIpLmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdCQoXCIubWFpbi13cmFwcGVyIC5jb250ZW50XCIpLmhpZGUoKTtcclxuXHRcdFxyXG5cdFx0Ly9TdG9yYWdlIGZvciB0YWJcclxuXHRcdHZhciB0YWIgPSAkKHRoaXMpLmRhdGEoXCJ0YWJcIik7XHJcblx0XHRcclxuXHRcdCQoXCIjXCIgKyAkKHRoaXMpLmRhdGEoXCJ0YWJcIikgKyBcIi1jb250YWluZXJcIikuc2hvdygpO1xyXG5cdFx0XHJcblx0XHQvL1BhcnNlIHNwZWNpZmljIHRhYnNcclxuXHRcdGlmICh0YWIgPT0gXCJtb2RhdGlvbi13YXRjaGxpc3RcIikge1xyXG5cdFx0XHRwYXJzZVdhdGNobGlzdCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdCQoXCJuYXYgYTpmaXJzdFwiKS5jbGljaygpO1xyXG59Ki9cclxuXHJcbi8vQmV0dGVyIGdldCBhbmQgcGFyc2Ugbm90aWZpY2Fpb25zLWVyXHJcbi8qZnVuY3Rpb24gcGFyc2VOb3RpZnMoKSB7XHJcblx0Ly9HcmFiIHN0b3JhZ2VcclxuXHRjcmFwaS5jbG9uZShmdW5jdGlvbihkKSB7XHJcblx0XHQvL0xvZ2luXHJcblx0XHRtb2RhcGkubG9naW4oZnVuY3Rpb24obWUpIHtcclxuXHRcdFx0dmFyICRwYXJzZSA9ICQoXCI8c3Ryb25nPlVua25vd24gZXJyb3I8L3N0cmluZz5cIik7XHJcblx0XHRcdFxyXG5cdFx0XHQvL1VzZXIgaXMgbm90IGxvZ2dlZCBpblxyXG5cdFx0XHRpZiAoIW1lLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjcmFwaS5iYWRnZSh7XHJcblx0XHRcdFx0XHR0aXRsZTogXCJQbGVhc2UgbG9naW4gdG8gdmlldyBub3RpZmljYXRpb25zXCIsXHJcblx0XHRcdFx0XHRjb2xvcjogXCJncmF5XCIsXHJcblx0XHRcdFx0XHR0ZXh0OiBcIj9cIlxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vU2hvdyBsb2dpbiBtZXNzYWdlXHJcblx0XHRcdFx0JHBhcnNlID0gJChfZmFjdG9yeShcIm1vZGF0aW9uLW5vdGlmaWNhdGlvbnMtbG9naW5cIikpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0Ly9TaG93IHBhcnNlZCBub3RpZmljYXRpb24gYm94XHJcblx0XHRcdFx0JChcIiNtb2RhdGlvbi1ub3RpZmljYXRpb25zXCIpLnJlcGxhY2VXaXRoKCRwYXJzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vVXNlciBpcyBsb2dnZWQgaW5cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0JC5nZXQoZ2xvYmFsLnBhdGguZmVlZCwgZnVuY3Rpb24oaHRtbCkge1xyXG5cdFx0XHRcdFx0Ly9QYXJzZSBIVE1MIHRvIHJlbW92ZSBpbWFnZXMgYW5kIHRpbWluZyB2YWx1ZXNcclxuXHRcdFx0XHRcdGh0bWwgPSBodG1sLnJlcGxhY2UoLyg8aWZyYW1lXFxiLio/PFxcL2lmcmFtZT4pfCg8aW1nXFxiW14+XSo+KS9pZywgJycpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgJGh0bWwgPSAkKGh0bWwpO1xyXG5cdFx0XHRcdFx0dmFyICRhc2lkZSA9ICRodG1sLmZpbmQoJ2FzaWRlJyk7XHJcblx0XHRcdFx0XHQkYXNpZGUuYXR0cihcImlkXCIsIFwibW9kYXRpb24tbm90aWZpY2F0aW9uc1wiKTtcclxuXHRcdFx0XHRcdHZhciBmZWVkTGluayA9ICRodG1sLmZpbmQoXCJhW2hyZWY9Jy9mZWVkJ11cIilbMF0uaW5uZXJUZXh0O1xyXG5cdFx0XHRcdFx0dmFyIGZlZWRBbGVydHMgPSBwYXJzZUludChmZWVkTGluay5tYXRjaCgvKFxcZCspLykpIHx8IDA7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vTm90aWZpY2F0aW9uIGJveCBpcyB0aGVyZVxyXG5cdFx0XHRcdFx0aWYgKCRhc2lkZSkgJHBhcnNlID0gJGFzaWRlO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvL0dlbmVyYXRlIGFsZXJ0c1xyXG5cdFx0XHRcdFx0X2dlbmVyYXRlQWxlcnRzKGRbbWUuZW1haWxdKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly9TaG93IHBhcnNlZCBub3RpZmljYXRpb24gYm94XHJcblx0XHRcdFx0XHQkKFwiI21vZGF0aW9uLW5vdGlmaWNhdGlvbnNcIikucmVwbGFjZVdpdGgoJHBhcnNlKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly9JdGVyYXRlIGFsbCBsaW5rc1xyXG5cdFx0XHRcdFx0JChcIiNtb2RhdGlvbi1ub3RpZmljYXRpb25zIGFcIikuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoXCJocmVmXCIsIGdsb2JhbC5wYXRoLmhvbWUgKyBocmVmKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5hdHRyKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vRm9ybWF0IGNsZWFyIGFjdGlvbnNcclxuXHRcdFx0XHRcdHZhciBjdCA9IDA7XHJcblx0XHRcdFx0XHQkKFwiI21vZGF0aW9uLW5vdGlmaWNhdGlvbnMgZm9ybVthY3Rpb24qPWNsZWFyX25vdGlmaWNhdGlvbl1cIikuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGFjdGlvbiA9ICQodGhpcykuYXR0cihcImFjdGlvblwiKTtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5hdHRyKFwiYWN0aW9uXCIsIGdsb2JhbC5wYXRoLmhvbWUgKyBhY3Rpb24pO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoXCJ0YXJnZXRcIiwgXCJjbGVhcmNhdGNoZXJcIiArIGN0KTtcclxuXHRcdFx0XHRcdFx0JChcIiNjb250ZW50XCIpLmFmdGVyKCc8aWZyYW1lIHdpZHRoPVwiMFwiIGhlaWdodD1cIjBcIiBuYW1lPVwiY2xlYXJjYXRjaGVyJyArIGN0ICsgJ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPjwvaWZyYW1lPicpO1xyXG5cdFx0XHRcdFx0XHQrK2N0O1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vQWRkIENsZWFyIEFsbCBhY3Rpb25cclxuXHRcdFx0XHRcdGlmIChjdCA+IDEpIHtcclxuXHRcdFx0XHRcdFx0JChcIiNtb2RhdGlvbi1ub3RpZmljYXRpb25zIGRpdi5ub3RpZmljYXRpb25zIGgzXCIpLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJzdXBlciBjbGVhci1ub3RpZmljYXRpb25cIiBpZD1cInN1cGVyY2xlYXJcIj5DbGVhciBBbGw8L3NwYW4+Jyk7XHJcblx0XHRcdFx0XHRcdCQoXCIjc3VwZXJjbGVhclwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHQvL1N1Ym1pdCBhbGwgY2xlYXIgYWN0aW9uc1xyXG5cdFx0XHRcdFx0XHRcdCQoXCIjbW9kYXRpb24tbm90aWZpY2F0aW9ucyBmb3JtW2FjdGlvbio9Y2xlYXJfbm90aWZpY2F0aW9uXVwiKS5zdWJtaXQoKVxyXG5cdFx0XHRcdFx0XHRcdFx0LnBhcmVudHMoXCJkaXYubm90aWZpY2F0aW9ucyBkaXZcIikuc2xpZGVVcCgpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vU2hvdyBsb2FkZXJcclxuXHRcdFx0XHRcdFx0XHRpZiAoISQoXCIjbW9kYXRpb24tbm90aWZpY2F0aW9ucyBkaXYubm90aWZpY2F0aW9ucyBoMyBpbWdcIikubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQkKFwiI21vZGF0aW9uLW5vdGlmaWNhdGlvbnMgZGl2Lm5vdGlmaWNhdGlvbnMgaDNcIikuYXBwZW5kKCc8aW1nIHNyYz1cImltZy9sb2FkaW5nLmdpZlwiIHN0eWxlPVwiZmxvYXQ6IHJpZ2h0XCI+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHQkKHRoaXMpLmZhZGVPdXQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlTm90aWZzKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly9IYW5kbGUgY2xlYXIgYWN0aW9uc1xyXG5cdFx0XHRcdFx0JChcIiNtb2RhdGlvbi1ub3RpZmljYXRpb25zIGlucHV0LmNsZWFyLW5vdGlmaWNhdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdCQodGhpcykucGFyZW50cyhcImRpdi5ub3RpZmljYXRpb25zIGRpdlwiKS5zbGlkZVVwKCk7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly9TaG93IGxvYWRlclxyXG5cdFx0XHRcdFx0XHRcdGlmICghJChcIiNtb2RhdGlvbi1ub3RpZmljYXRpb25zIGRpdi5ub3RpZmljYXRpb25zIGgzIGltZ1wiKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdCQoXCIjbW9kYXRpb24tbm90aWZpY2F0aW9ucyBkaXYubm90aWZpY2F0aW9ucyBoM1wiKS5hcHBlbmQoJzxpbWcgc3JjPVwiaW1nL2xvYWRpbmcuZ2lmXCIgc3R5bGU9XCJmbG9hdDogcmlnaHRcIj4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdHBhcnNlTm90aWZzKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRmdW5jdGlvbiBfZ2VuZXJhdGVBbGVydHMoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQvL3ZhciB3YXRjaGxpc3RBbGVydHMgPSBkYXRhWyd3YXRjaGxpc3QtcXVldWUnXS5sZW5ndGg7XHJcblx0XHRcdFx0XHRcdHZhciBhbGVydHMgPSBmZWVkQWxlcnRzOy8vICsgd2F0Y2hsaXN0QWxlcnRzO1xyXG5cdFx0XHRcdFx0XHR2YXIgYWxlcnRTdHJpbmcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly9Tb3VuZGF0aW9uIG5vdGlmcyBoYW5kbGVyXHJcblx0XHRcdFx0XHRcdGlmIChmZWVkQWxlcnRzKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGF1dGhvcnMgPSBbXTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL0dyYWIgYXV0aG9yc1xyXG5cdFx0XHRcdFx0XHRcdCRhc2lkZS5maW5kKCdhLmF1dGhvcicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhdXRob3IgPSAkKHRoaXMpLnRleHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChhdXRob3JzLmluZGV4T2YoYXV0aG9yKSA9PSAtMSkgYXV0aG9ycy5wdXNoKGF1dGhvcik7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly9Jbml0aWFsaXplIGF1dGhvciBzdHJpbmdcclxuXHRcdFx0XHRcdFx0XHR2YXIgYXV0aG9yQ291bnQgPSBhdXRob3JzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdHZhciBvdGhlcnMgPSBhdXRob3JDb3VudCAtIDM7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnRTdHJpbmcgPSBmZWVkQWxlcnRzICsgXCIgbmV3IGZyb20gXCI7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly9JdGVyYXRlIGF1dGhvcnNcclxuXHRcdFx0XHRcdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdFx0XHRcdFx0Zm9yICg7IGkgPCAyICYmIGkgPCAoYXV0aG9yQ291bnQgLSAxKTsgKytpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhbGVydFN0cmluZyArPSBhdXRob3JzW2ldICsgXCIsIFwiO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL0FkZCBmaW5hbCBhdXRob3JcclxuXHRcdFx0XHRcdFx0XHRhbGVydFN0cmluZyArPSBhdXRob3JzW2ldO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vQWRkIG90aGVycywgaWYgbmVlZGVkXHJcblx0XHRcdFx0XHRcdFx0aWYgKG90aGVycyA+IDApIGFsZXJ0U3RyaW5nICs9IFwiLCBwbHVzIFwiICsgb3RoZXJzICsgXCIgb3RoZXJcIiArIChvdGhlcnMgPiAxID8gXCJzXCIgOiBcIlwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly9ObyBTb3VuZGF0aW9uIG5vdGlmc1xyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKFwibW9kYXRpb246IG5vIG5vdGlmc1wiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0Ly9XYXRjaGxpc3Qgbm90aWZzIGhhbmRsZXJcclxuXHRcdFx0XHRcdFx0LyppZiAod2F0Y2hsaXN0QWxlcnRzKSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnRTdHJpbmcgKz0gKGFsZXJ0U3RyaW5nID8gXCJcXG5cIiA6IFwiXCIpICsgd2F0Y2hsaXN0QWxlcnRzICsgXCIgbmV3IGZyb20gd2F0Y2hsaXN0XCI7XHJcblx0XHRcdFx0XHRcdH0qXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvL0dsb2JhbCBub3RpZnMgaGFuZGxlclxyXG5cdFx0XHRcdFx0XHRpZiAoYWxlcnRzKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9VcGRhZ2UgYmFkZ2VcclxuXHRcdFx0XHRcdFx0XHRjcmFwaS5iYWRnZSh7XHJcblx0XHRcdFx0XHRcdFx0XHR0aXRsZTogYWxlcnRTdHJpbmcsXHJcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogXCJyZWRcIixcclxuXHRcdFx0XHRcdFx0XHRcdHRleHQ6IFN0cmluZyhhbGVydHMpXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vTm8gZ2xvYmFsIG5vdGlmc1xyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvL1VwZGF0ZSBiYWRnZVxyXG5cdFx0XHRcdFx0XHRcdGNyYXBpLmJhZGdlKHtcclxuXHRcdFx0XHRcdFx0XHRcdHRpdGxlOiBcIk5vIG5ldyBub3RpZmljYXRpb25zIDooXCIsXHJcblx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBcIlwiXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn0qL1xyXG5cclxuLy9HZXQgYW5kIHBhcnNlIHdhdGNobGlzdFxyXG4vKmZ1bmN0aW9uIHBhcnNlV2F0Y2hsaXN0KCkge1xyXG5cdC8vU2hvdyBsb2FkZXJcclxuXHQkKFwiI21vZGF0aW9uLXdhdGNobGlzdCAubG9hZGVyXCIpLnNob3coKTtcclxuXHRcclxuXHRjcmFwaS5jbG9uZShmdW5jdGlvbihkKSB7XHRcdFxyXG5cdFx0bW9kYXBpLmxvZ2luKGZ1bmN0aW9uKG1lKSB7XHJcblx0XHRcdC8vU3RvcmFnZSBmb3IgcXVldWVcclxuXHRcdFx0dmFyIHF1ZXVlID0gW107XHJcblx0XHRcdFxyXG5cdFx0XHQvL1VzZXIgaXMgbm90IGxvZ2dlZCBpblxyXG5cdFx0XHRpZiAoIW1lLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgbG9naW4gdG8gU291bmRhdGlvbiwgYnlwYXNzaW5nIHdhdGNobGlzdCBjaGVja1wiKVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvL1VzZXIgaXMgbG9nZ2VkIGluXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHF1ZXVlID0gZFttZS5lbWFpbF1bJ3dhdGNobGlzdC1xdWV1ZSddO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvL1Jlc2V0IHF1ZXVlIGRpc3BsYXlcclxuXHRcdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3RcIikuZmluZChcIi5jbGVhci1ub3RpZmljYXRpb24sIC5tb2RhdGlvbi13YXRjaGxpc3QtaXRlbSwgLmVtcHR5XCIpLnJlbW92ZSgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly9RdWV1ZSBpcyBlbXB0eVxyXG5cdFx0XHRpZiAoIXF1ZXVlLmxlbmd0aCkge1xyXG5cdFx0XHRcdCQoXCIjbW9kYXRpb24td2F0Y2hsaXN0IC53cmFwcGVyXCIpLmFwcGVuZChfZmFjdG9yeShcIm1vZGF0aW9uLXdhdGNobGlzdC1lbXB0eVwiKSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0X2NvbXBsZXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vSXRlbXMgaW4gcXVldWVcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9JdGVyYXRlIHRocm91Z2ggcXVldWUgaXRlbXNcclxuXHRcdFx0XHQkLmVhY2gocXVldWUsIGZ1bmN0aW9uKGksIHEpIHtcclxuXHRcdFx0XHRcdCQoXCIjbW9kYXRpb24td2F0Y2hsaXN0IC53cmFwcGVyXCIpLmFwcGVuZChfZmFjdG9yeShcIm1vZGF0aW9uLXdhdGNobGlzdC1pdGVtXCIpLmFkZENsYXNzKFwibW9kYXRpb24td2F0Y2hsaXN0LWl0ZW0tXCIgKyBpKSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vU2VsZWN0IGFkZGVkIGl0ZW1cclxuXHRcdFx0XHRcdHZhciB3SXRlbSA9ICQoXCIjbW9kYXRpb24td2F0Y2hsaXN0IC5tb2RhdGlvbi13YXRjaGxpc3QtaXRlbS1cIiArIGkpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvL0xvYWQgYWRkZWQgaXRlbVxyXG5cdFx0XHRcdFx0d0l0ZW0uZmluZChcIi5pdGVtLXRpdGxlXCIpLmh0bWwoJzxhIGhyZWY9XCJodHRwOi8vc291bmRhdGlvbi5jb20vJyArIHEubGluayArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgcS50aXRsZSk7XHJcblx0XHRcdFx0XHR3SXRlbS5maW5kKFwiLml0ZW0tYm9keVwiKS5odG1sKHEuY2hhbmdlcy5qb2luKFwiLCBcIikpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvL0luaXRpYWxpemUgY2xlYXIgaGFuZGxlclxyXG5cdFx0XHRcdFx0d0l0ZW0uZmluZChcIi5jbGVhci1ub3RpZmljYXRpb25cIikuY2xpY2soZnVuY3Rpb24oKSB7XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8vQ2xlYXIgcXVldWUgaXRlbVxyXG5cdFx0XHRcdFx0XHRjbGVhcl9xdWV1ZShtZS5lbWFpbCwgaSk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvL0hpZGUgYW5kIHJlbW92ZSBpdGVtLCB0aGVuIHBhcnNlIHdhdGNobGlzdCBhZ2FpblxyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5ub3RpZmljYXRpb25zIC5tb2RhdGlvbi13YXRjaGxpc3QtaXRlbScpLnNsaWRlVXAoNDAwLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vT25seSBzbGlnaHRseSByZWN1cnNpdmVcclxuXHRcdFx0XHRcdFx0XHRwYXJzZVdhdGNobGlzdCgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vQWRkIENsZWFyIEFsbCBidXR0b24sIGlmIG5lZWRlZFxyXG5cdFx0XHRcdGlmICgkKFwiI21vZGF0aW9uLXdhdGNobGlzdCAubW9kYXRpb24td2F0Y2hsaXN0LWl0ZW1cIikubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3QgLm1vZGF0aW9uLXdhdGNobGlzdC1oZWFkZXJcIikuYXBwZW5kKF9mYWN0b3J5KFwibW9kYXRpb24td2F0Y2hsaXN0LWNsZWFyLWFsbFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0Ly9QdXJnZSBxdWV1ZVxyXG5cdFx0XHRcdFx0XHRwdXJnZV9xdWV1ZShtZS5lbWFpbCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQvL0hpZGUgYW5kIHJlbW92ZSBpdGVtcywgdGhlbiBwYXJzZSB3YXRjaGxpc3QgYWdhaW5cclxuXHRcdFx0XHRcdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3QgLm1vZGF0aW9uLXdhdGNobGlzdC1pdGVtXCIpLnNsaWRlVXAoNDAwLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdC8vT25seSBzbGlnaHRseSByZWN1cnNpdmVcclxuXHRcdFx0XHRcdFx0XHRwYXJzZVdhdGNobGlzdCgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0X2NvbXBsZXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZ1bmN0aW9uIF9jb21wbGV0ZSgpIHtcclxuXHRcdFx0XHQvL0hpZGUgbG9hZGVyXHJcblx0XHRcdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3QgLmxvYWRlclwiKS5oaWRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59Ki9cclxuXHJcbi8vQ2xlYXIgcXVldWUgaXRlbVxyXG4vKmZ1bmN0aW9uIGNsZWFyX3F1ZXVlKGVtYWlsLCBxdWV1ZUlEKSB7XHJcblx0Y3JhcGkuY2xvbmUoZnVuY3Rpb24oZCkge1x0XHRcclxuXHRcdC8vR3JhYiBxdWV1ZSBpdGVtXHJcblx0XHR2YXIgcXVldWVJdGVtID0gZFtlbWFpbF1bJ3dhdGNobGlzdC1xdWV1ZSddW3F1ZXVlSURdO1xyXG5cdFx0XHJcblx0XHQvL0dyYWIgd2F0Y2hsaXN0IGl0ZW1cclxuXHRcdHZhciB3YXRjaGxpc3RJdGVtID0gZFtlbWFpbF1bJ3dhdGNobGlzdCddW3F1ZXVlSXRlbS5pbmRleF07XHJcblx0XHRcclxuXHRcdC8vSXRlcmF0ZSBwcm9wZXJ0aWVzXHJcblx0XHRmb3IgKHZhciBwcm9wIGluIHF1ZXVlSXRlbS5zdGF0ZSkgd2F0Y2hsaXN0SXRlbVtwcm9wXSA9IHF1ZXVlSXRlbS5zdGF0ZVtwcm9wXTtcclxuXHRcdFxyXG5cdFx0Ly9QdXNoIHVwZGF0ZWQgd2F0Y2hsaXN0IGJhY2sgaW50byBzdG9yYWdlXHJcblx0XHRkW2VtYWlsXVsnd2F0Y2hsaXN0J11bcXVldWVJdGVtLmluZGV4XSA9IHdhdGNobGlzdEl0ZW07XHJcblx0XHRcclxuXHRcdC8vRGVsZXRlIHF1ZXVlIGl0ZW1cclxuXHRcdGRbZW1haWxdWyd3YXRjaGxpc3QtcXVldWUnXS5zcGxpY2UocXVldWVJRCwgMSk7XHJcblx0XHRcclxuXHRcdC8vVXBkYXRlIHdhdGNobGlzdFxyXG5cdFx0Y3JhcGkudXBkYXRlKGVtYWlsLCBkW2VtYWlsXSk7XHJcblx0fSk7XHJcbn0qL1xyXG5cclxuLy9QdXJnZSBlbnRpcmUgcXVldWVcclxuLypmdW5jdGlvbiBwdXJnZV9xdWV1ZShlbWFpbCkge1xyXG5cdGNyYXBpLmNsb25lKGZ1bmN0aW9uKGQpIHtcclxuXHRcdC8vSXRlcmF0ZSBxdWV1ZSBpdGVtc1xyXG5cdFx0JC5lYWNoKGRbZW1haWxdWyd3YXRjaGxpc3QtcXVldWUnXSwgZnVuY3Rpb24oaSwgdikge1xyXG5cdFx0XHQvL0dyYWIgcXVldWUgaXRlbVxyXG5cdFx0XHR2YXIgcXVldWVJdGVtID0gdjtcclxuXHRcdFx0XHJcblx0XHRcdC8vR3JhYiB3YXRjaGxpc3QgaXRlbVxyXG5cdFx0XHR2YXIgd2F0Y2hsaXN0SXRlbSA9IGRbZW1haWxdWyd3YXRjaGxpc3QnXVtxdWV1ZUl0ZW0uaW5kZXhdO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly9JdGVyYXRlIHByb3BlcnRpZXNcclxuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBxdWV1ZUl0ZW0uc3RhdGUpIHdhdGNobGlzdEl0ZW1bcHJvcF0gPSBxdWV1ZUl0ZW0uc3RhdGVbcHJvcF07XHJcblx0XHRcdFxyXG5cdFx0XHQvL1B1c2ggdXBkYXRlZCB3YXRjaGxpc3QgYmFjayBpbnRvIHN0b3JhZ2VcclxuXHRcdFx0ZFtlbWFpbF1bJ3dhdGNobGlzdCddW3F1ZXVlSXRlbS5pbmRleF0gPSB3YXRjaGxpc3RJdGVtO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vQ2xlYXIgcXVldWVcclxuXHRcdGRbZW1haWxdWyd3YXRjaGxpc3QtcXVldWUnXSA9IFtdO1xyXG5cdFx0XHJcblx0XHQvL1VwZGF0ZSB3YXRjaGxpc3RcclxuXHRcdGNyYXBpLnVwZGF0ZShlbWFpbCwgZFtlbWFpbF0pO1xyXG5cdH0pO1xyXG59Ki9cclxuXHJcbi8vSGVscGVyIGZ1bmN0aW9uIGZvciBkZWJ1Z2dpbmdcclxuLyppZiAoY3JhcGkuZGVidWcpIHtcclxuXHRfd0l0ZW0gPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vUmVzZXQgcXVldWUgZGlzcGxheVxyXG5cdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3RcIikuZmluZChcIi5lbXB0eVwiKS5yZW1vdmUoKTtcclxuXHRcdFxyXG5cdFx0Ly9BZGQgZGVidWcgaXRlbVxyXG5cdFx0JChcIiNtb2RhdGlvbi13YXRjaGxpc3QgLndyYXBwZXJcIikuYXBwZW5kKF9mYWN0b3J5KFwibW9kYXRpb24td2F0Y2hsaXN0LWl0ZW1cIikuYWRkQ2xhc3MoXCJtb2RhdGlvbi13YXRjaGxpc3QtaXRlbS1kZWJ1Z1wiKSk7XHJcblx0XHRcclxuXHRcdC8vU2VsZWN0IGFkZGVkIGl0ZW1cclxuXHRcdHZhciAkd0l0ZW0gPSAkKFwiI21vZGF0aW9uLXdhdGNobGlzdCAubW9kYXRpb24td2F0Y2hsaXN0LWl0ZW0tZGVidWdcIikubGFzdCgpO1xyXG5cdFx0XHJcblx0XHQvL0xvYWQgYWRkZWQgaXRlbVxyXG5cdFx0JHdJdGVtLmZpbmQoXCIuaXRlbS10aXRsZVwiKS5odG1sKCc8YSBocmVmPVwiI1wiPkRlYnVnIEl0ZW08L2E+Jyk7XHJcblx0XHQkd0l0ZW0uZmluZChcIi5pdGVtLWJvZHlcIikuaHRtbCgnQm9keSwgTWluZCwgU291bCcpO1xyXG5cdH1cclxufSovIl19
